<c-card>
    <c-card-header class="d-flex justify-content-between align-items-center">
      <strong>PROCEDURES</strong>
      <button class="btn btn-primary btn-sm" (click)="agregarProcedimiento()" title="Crear nuevo">
        Add New
      </button>
    </c-card-header>
  
    <c-card-body>
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Buscar procedimiento..."
          name="filtro"
          [(ngModel)]="nameFilter"
          (input)="filtrar()"
        />
      </div>
  
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Procedure</th>
            <th>Created By</th>
            <th>Modification date</th>
            <th style="width: 80px;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let p of procedimientosFiltrados"
            class="hover-row"
            (click)="verDetalle(p)"
          >
            <td>{{ p.name }}</td>
            <td>{{ p.category }}</td>
            <td>{{ p.user }}</td>
            <td>{{ p.modificationDate }}</td>
            <td (click)="$event.stopPropagation()">
              <div class="d-flex gap-2">
                <button
                class="btn btn-sm btn-outline-primary"
                (click)="descargarPDF(p)"
                title="Download PDF"
              >
                <svg cIcon name="cil-cloud-download"></svg>
              </button>
                <button
                  class="btn btn-sm btn-outline-secondary"
                  (click)="editarProcedimiento(p)"
                  title="Editar"
                >
                  <svg cIcon name="cil-pencil"></svg>
                </button>
                <button
                  class="btn btn-sm btn-outline-danger"
                  (click)="eliminarProcedimiento(p)"
                  title="Eliminar"
                >
                  <svg cIcon name="cil-trash"></svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </c-card-body>
  </c-card>
  