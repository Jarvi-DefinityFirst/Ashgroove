import{a as z}from"./chunk-M3TV3ZPV.js";import{b as D,c as R,j as J,u as P}from"./chunk-6YNLSSCZ.js";import{T as A,U as j,X as V,i as O,u as k}from"./chunk-X6SMWKVA.js";import{j as F,k as N,q as T}from"./chunk-KQATVZ4O.js";import"./chunk-4PPJG5BB.js";import{Fb as p,Gb as e,Hb as i,Ib as g,Mb as E,Pb as c,Ra as C,Rb as u,Ua as o,Za as v,db as y,ec as a,fc as d,ha as S,ia as _,ja as h,jb as x,jc as M,ka as b,kc as I,lc as w}from"./chunk-4SEB7VVV.js";import"./chunk-DRSDQDGF.js";function G(s,n){if(s&1&&g(0,"img",13),s&2){let t=u().$implicit;p("src",t.avatar,C)}}function L(s,n){if(s&1){let t=E();e(0,"tr")(1,"td"),x(2,G,1,1,"img",7),i(),e(3,"td"),a(4),i(),e(5,"td"),a(6),i(),e(7,"td"),a(8),i(),e(9,"td"),a(10),i(),e(11,"td")(12,"div",8)(13,"button",9),c("click",function(){let l=S(t).$implicit,m=u();return _(m.editStaff(l))}),h(),g(14,"svg",10),i(),b(),e(15,"button",11),c("click",function(){let l=S(t).$implicit,m=u();return _(m.deleteStaff(l))}),h(),g(16,"svg",12),i()()()()}if(s&2){let t=n.$implicit;o(2),p("ngIf",t.avatar),o(2),d(t.name),o(2),d(t.position),o(2),d(t.role),o(2),d(t.email)}}var f=class f{constructor(n,t){this.router=n;this.staffService=t;this.staff=[];this.filteredStaff=[];this.nameFilter=""}ngOnInit(){let n=localStorage.getItem("demo_staff");n?this.staff=JSON.parse(n):(this.staff=[{id:1,name:"Mar\xEDa L\xF3pez",position:"Manager",role:"Admin",email:"maria@example.com",password:"********",avatar:"./assets/images/avatars/1.jpg"},{id:2,name:"Juan P\xE9rez",position:"Operator",role:"User",email:"juan@example.com",password:"********",avatar:"./assets/images/avatars/2.jpg"}],localStorage.setItem("demo_staff",JSON.stringify(this.staff))),this.filteredStaff=this.staff,console.log(this.filteredStaff)}filter(){try{let n=new RegExp(this.nameFilter,"i");this.filteredStaff=this.staff.filter(t=>n.test(t.name))}catch{this.filteredStaff=this.staff}}addStaff(){this.router.navigate(["/staff/agregar"])}editStaff(n){this.staffService.setStaff(n),this.router.navigate(["/staff/editar",n.id])}deleteStaff(n){confirm(`\xBFEst\xE1s seguro de eliminar a ${n.name}?`)&&(this.staff=this.staff.filter(r=>r.id!==n.id),this.filteredStaff=this.staff,this.nameFilter="",localStorage.setItem("demo_staff",JSON.stringify(this.staff)))}};f.\u0275fac=function(t){return new(t||f)(v(O),v(z))},f.\u0275cmp=y({type:f,selectors:[["app-staff-managment"]],decls:26,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center"],["title","Agregar nuevo",1,"btn","btn-primary","btn-sm",3,"click"],[1,"mb-3"],["type","text","placeholder","Buscar por nombre...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"table","table-striped","table-hover"],[2,"width","80px"],[4,"ngFor","ngForOf"],["alt","avatar","style","width: 40px; height: 40px; border-radius: 50%; object-fit: cover;",3,"src",4,"ngIf"],[1,"d-flex","gap-2"],["title","Editar",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["cIcon","","name","cil-pencil"],["title","Eliminar",1,"btn","btn-sm","btn-outline-danger",3,"click"],["cIcon","","name","cil-trash"],["alt","avatar",2,"width","40px","height","40px","border-radius","50%","object-fit","cover",3,"src"]],template:function(t,r){t&1&&(e(0,"c-card")(1,"c-card-header",0)(2,"strong"),a(3,"STAFF MANAGEMENT"),i(),e(4,"button",1),c("click",function(){return r.addStaff()}),a(5," Add New "),i()(),e(6,"c-card-body")(7,"div",2)(8,"input",3),w("ngModelChange",function(m){return I(r.nameFilter,m)||(r.nameFilter=m),m}),c("input",function(){return r.filter()}),i()(),e(9,"table",4)(10,"thead")(11,"tr")(12,"th"),a(13,"Avatar"),i(),e(14,"th"),a(15,"Nombre"),i(),e(16,"th"),a(17,"Puesto"),i(),e(18,"th"),a(19,"Rol"),i(),e(20,"th"),a(21,"Email"),i(),e(22,"th",5),a(23,"Acciones"),i()()(),e(24,"tbody"),x(25,L,17,5,"tr",6),i()()()()),t&2&&(o(8),M("ngModel",r.nameFilter),o(17),p("ngForOf",r.filteredStaff))},dependencies:[T,F,N,P,D,R,J,A,V,j,k],encapsulation:2});var B=f;export{B as StaffManagmentComponent};
